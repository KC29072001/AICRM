

# AI CRM
### Features


#### Authenticate with Gmail using OAuth 2.0 to access emails securely.

#### Search Emails by providing a query string and retrieve relevant emails.

#### Summarize Results with a concise summary generated by the Gemini API.

#### Configurable maximum number of results (default: 10).


## Run Locally

Clone the project

```bash
  git clone <repository-url>
```

Go to the project directory

```bash
  cd my-project
```

Install python version 3.11.0 or 3.11.0+ from https://www.python.org/downloads/release/python-3110/


Create a new virtual environment

```bash
  python -m venv crmenv
```

Activate it

```bash
  crmenv\Scripts\activate
```

Install dependencies

```bash
  pip install -r requirements.txt
```

Start the server

```bash
  python main.py
```

## API Reference

### Authenticate email  

```http
  GET /auth/start?gmail_address=<your_gmail_address>
```

| Parameter | Type     | Description                |
| :-------- | :------- | :------------------------- |
| `gmail_address` | `string` | **Required**. The Gmail address to authenticate.|

Response - 
```bash
{
  "auth_url": "generated_auth_url"
}

```
### Retrieve list of relevant message objects

```http
   POST /api/v1/retrieve
```

| Parameter | Type     | Description                |
| :-------- | :------- | :------------------------- |
| `query` | `string` | **Required**. Search query for emails.|
| `max_results` | `integer` | **Optional**. Maximum number of results (default: 10).|
| `gmail_address` | `string` | **Required**. Gmail address to search.|

Response -
```bash
{
  "status": "success",
  "results": [
    {
      "id": "196da47dccc2cb0f",
      "snippet": "Hello, Blueskythinker. Welcome to the regular Codeforces round. I&#39;m glad to invite you to take part in Codeforces Round 1025 (Div. 2). It starts on Saturday, May, 17, 2025 14:35 (UTC). The contest",
      "from": "Codeforces@codeforces.com",
      "subject": "Codeforces Round 1025 (Div. 2)",
      "date": "1747416346000",
      "link": "https://mail.google.com/mail/u/0/#inbox/196da47dccc2cb0f"
    },
    {
      "id": "196bb9de22a38579",
      "snippet": "Hello, Blueskythinker. I&#39;m glad to invite you to take part in Codeforces Round 1024. Actually it will be two separate rounds &quot;Codeforces Round #1024 (Div. 1)&quot; and &quot;Codeforces Round #",
      "from": "noreply@codeforces.com",
      "subject": "Codeforces Round 1024",
      "date": "1746901846000",
      "link": "https://mail.google.com/mail/u/0/#inbox/196bb9de22a38579"
    }
  ],
  "summary": "The search query \"from:Codeforces\" returned two emails concerning upcoming Codeforces rounds.  One email announces Codeforces Round 1025 (Div. 2) scheduled for Saturday, May 17, 2025, at 14:35 UTC.  Another email details Codeforces Round 1024, noting it will be split into two separate divisions (Div. 1 and Div. 2).  Both emails are invitations to participate."
}
```
